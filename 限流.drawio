<mxfile host="app.diagrams.net" modified="2021-01-21T09:13:28.200Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.70 Safari/537.36" etag="NUJW9Z_0W612K2QkusSL" version="14.1.9" type="github">
  <diagram id="daPi5bpaG_95s4g8IG5k" name="第 1 页">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="Eifh44HfXir9j3BkBVKi-1" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="40" width="1210" height="570" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=14;curved=1;" edge="1" parent="1" source="Eifh44HfXir9j3BkBVKi-2" target="Eifh44HfXir9j3BkBVKi-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-2" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="126" width="410" height="244" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0;entryDx=0;entryDy=45;entryPerimeter=0;fontSize=14;" edge="1" parent="1" source="Eifh44HfXir9j3BkBVKi-3" target="Eifh44HfXir9j3BkBVKi-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-3" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="870" y="126" width="180" height="210" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-4" value="服务限流配置" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="900" y="176" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-5" value="DMCC/配置中心" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="880" y="136" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-6" value="服务配置发布" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="900" y="256" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-10" value="Kong网关限流" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="70" y="60" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-12" value="初始化限流配置" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;align=center;" vertex="1" parent="1">
          <mxGeometry x="120" y="176" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-13" value="Redis" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fontSize=14;align=center;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="640" y="186" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" edge="1" parent="1" source="Eifh44HfXir9j3BkBVKi-14" target="Eifh44HfXir9j3BkBVKi-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-14" value="数据格式：使用hash结构&lt;br&gt;Key：服务名&lt;br&gt;Value：URI列表" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="582" y="336" width="215" height="54" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-19" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;aspect=fixed;imageAspect=0;image=data:image/png,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;" vertex="1" parent="1">
          <mxGeometry x="830" y="350" width="301" height="233" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=14;" edge="1" parent="1" source="Eifh44HfXir9j3BkBVKi-20" target="Eifh44HfXir9j3BkBVKi-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-20" value="redis + lua&lt;br&gt;使用计数器，固定窗口限流" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="605.5" y="90" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-22" value="定时监听配置" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;align=center;" vertex="1" parent="1">
          <mxGeometry x="310" y="176" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-23" value="限流插件" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="90" y="136" width="70" height="24" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-24" value="URI计数限流" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;align=center;" vertex="1" parent="1">
          <mxGeometry x="120" y="272" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-26" value="限流日志记录" style="rounded=0;whiteSpace=wrap;html=1;fontSize=14;align=center;" vertex="1" parent="1">
          <mxGeometry x="310" y="270" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-35" value="限流插件" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fontSize=14;align=center;" vertex="1" parent="1">
          <mxGeometry x="340" y="760" width="100" height="360" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-38" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fontSize=14;align=center;" vertex="1" parent="Eifh44HfXir9j3BkBVKi-35">
          <mxGeometry x="45" y="60" width="10" height="140" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-55" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" edge="1" parent="Eifh44HfXir9j3BkBVKi-35" target="Eifh44HfXir9j3BkBVKi-35">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="49.5" y="280" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-63" value="判断" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffffc0;strokeColor=#ff0000;fontSize=14;align=center;" vertex="1" parent="Eifh44HfXir9j3BkBVKi-35">
          <mxGeometry x="10" y="238" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-36" value="Redis" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fontSize=14;align=center;" vertex="1" parent="1">
          <mxGeometry x="526" y="759" width="100" height="360" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-43" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fontSize=14;align=center;" vertex="1" parent="Eifh44HfXir9j3BkBVKi-36">
          <mxGeometry x="45" y="62" width="10" height="128" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-41" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.025;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=14;" edge="1" parent="1" source="Eifh44HfXir9j3BkBVKi-40" target="Eifh44HfXir9j3BkBVKi-38">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-42" value="请求" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;" vertex="1" connectable="0" parent="Eifh44HfXir9j3BkBVKi-41">
          <mxGeometry x="-0.3578" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-40" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;fontSize=14;align=center;" vertex="1" parent="1">
          <mxGeometry x="190" y="793" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-44" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" edge="1" parent="1" source="Eifh44HfXir9j3BkBVKi-38">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="570" y="860" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-45" value="CALL" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;" vertex="1" connectable="0" parent="Eifh44HfXir9j3BkBVKi-44">
          <mxGeometry x="0.1886" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-47" value="利用Redis+lua原子性操作计数，比对是否超出配置的限制" style="text;align=center;fontStyle=1;verticalAlign=middle;spacingLeft=3;spacingRight=3;strokeColor=none;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="526" y="790" width="130.5" height="92" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-51" value="return" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;fontSize=14;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="569" y="940" as="sourcePoint" />
            <mxPoint x="399" y="940" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-57" value="触发限流，503服务不可用" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;fontSize=14;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="350" y="1020" as="sourcePoint" />
            <mxPoint x="160" y="1020" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-58" value="上游服务" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fontSize=14;align=center;" vertex="1" parent="1">
          <mxGeometry x="764" y="758" width="100" height="360" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-59" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;fontSize=14;align=center;" vertex="1" parent="Eifh44HfXir9j3BkBVKi-58">
          <mxGeometry x="45" y="200" width="10" height="125" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-67" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=14;" edge="1" parent="1" source="Eifh44HfXir9j3BkBVKi-63" target="Eifh44HfXir9j3BkBVKi-58">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Eifh44HfXir9j3BkBVKi-68" value="未触发限流，放行" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=14;" vertex="1" connectable="0" parent="Eifh44HfXir9j3BkBVKi-67">
          <mxGeometry x="0.2594" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
